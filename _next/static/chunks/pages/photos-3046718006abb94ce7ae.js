_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"0CpR":function(e,t,o){e.exports={container:"photos_container__2ZDCf",container_bg:"photos_container_bg__2vUHm",container_radius:"photos_container_radius__1sSEA",page_title:"photos_page_title__w5Nuo",content:"photos_content__3JBP5",photo_container:"photos_photo_container__1DLuo",photo:"photos_photo__14wlp"}},B3wi:function(e,t,o){"use strict";var a=o("rePB"),n=o("q1tI"),r=o.n(n),c=o("Tyw5"),i=o.n(c),s=o("nOHt"),l=o("TSYQ"),u=o.n(l),d=o("LvDl"),_=o.n(d),h=o("/MKj"),p=o("ffwR"),v=r.a.createElement;function f(e){var t=e.user,o=void 0===t?{}:t,a=Object(s.useRouter)();return v("div",{className:i.a.profile,onClick:function(){a.push("/profile")}},v("div",{className:i.a.avatar},(null===o||void 0===o?void 0:o.profilePhoto)?v(p.a,{size:40,url:null===o||void 0===o?void 0:o.profilePhoto.src,text:null===o||void 0===o?void 0:o.username}):v(p.a,{size:40,text:null===o||void 0===o?void 0:o.firstName})),v("span",{className:i.a.name},"".concat(null===o||void 0===o?void 0:o.firstName)))}t.a=Object(h.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.withoutSearch,o=e.user,c=Object(n.useState)(0),s=c[0],l=(c[1],Object(n.useState)(!0)),d=l[0],h=l[1],p=null,m=function(){try{window.pageYOffset;p&&clearTimeout(p),p=setTimeout((function(){p=null,h(!0)}),500),d&&h(!1)}catch(e){console.log(e)}};return Object(n.useEffect)((function(){try{window.addEventListener("scroll",_.a.throttle(m,250))}catch(e){console.log(e)}return function(){try{window.removeEventListener("scroll",m)}catch(e){console.log(e)}}}),[s]),v(r.a.Fragment,null,v("div",{className:u()(i.a.header,Object(a.a)({},i.a.header_hidden,!d))},v("div",{className:i.a.container},v("div",{className:i.a.logo},v("img",{src:"/logo.png",alt:"logo"})),v("div",{className:i.a.search},!t&&v(r.a.Fragment,null,v("input",{name:"search",placeholder:"Search ..."}),v(f,null))),v(f,{user:o}))),v("div",{className:i.a.additional_header}))}))},Tyw5:function(e,t,o){e.exports={additional_header:"header_additional_header__Wyu42",header:"header_header__ecC39",header_hidden:"header_header_hidden__2Q2DD",container:"header_container__bXWQQ",logo:"header_logo__2MPw_",search:"header_search__sw4Be",profile:"header_profile__1JSwu",name:"header_name__3HhTm",avatar:"header_avatar__boSZH"}},XXki:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photos",function(){return o("gQxN")}])},gQxN:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return E}));var a=o("q1tI"),n=o.n(a),r=o("TSYQ"),c=o.n(r),i=o("T/mL"),s=o("B3wi"),l=o("pVHP"),u=o("0CpR"),d=o.n(u),_=o("jL+W"),h=o("rePB"),p=n.a.createElement;function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const m={loading:!1,postingLoading:!1,photosData:[]};function O(e,{type:t,payload:o}){switch(t){case"photos/SET_LOADING":return f(f({},e),{},{loading:o});case"photos/SET_POSTING_LOADING":return f(f({},e),{},{postingLoading:o});case"photos/SET_PHOTOS_DATA":return f(f({},e),{},{photosData:o});default:return e}}const w=Object(a.createContext)([{},()=>{}]),b=({children:e})=>{const t=Object(a.useReducer)(O,m);return p(w.Provider,{value:t},e)};var g=e=>({type:"photos/SET_PHOTOS_DATA",payload:e}),j=o("uoqP"),N=o("tsqr"),y=n.a.createElement;var P=Object(_.a)((function({auth:e,authServices:t}){const{0:o,1:n}=Object(a.useContext)(w),{0:r,1:u}=Object(a.useState)([]),_=async o=>{try{const o=await Object(j.a)({method:"post",url:"/accounts/photos",headers:{"x-token":e.token}}),{data:a,status:r}=o;200===r?n(g(a)):403===r?t.refreshToken(_):N.b.error((null===a||void 0===a?void 0:a.message)||"Something wrong")}catch(a){console.log(a)}};Object(a.useEffect)(()=>{_()},[]);const[h,p]=Object(i.b)(({in:e})=>y(l.a,{title:"Photo detail",showModal:e,onClose:p,data:null===o||void 0===o?void 0:o.photosData}));return y("div",null,y(s.a,null),y("div",{className:c()(d.a.container,d.a.container_bg,d.a.container_radius)},y("div",{className:d.a.page_title},"Photos"),y("div",{className:d.a.content},null===o||void 0===o?void 0:o.photosData.map(e=>y("div",{className:d.a.photo_container,key:e.id,onClick:()=>h()},y("div",{className:d.a.photo},y("img",{src:"https://www.freeskies.com/static/".concat(e.src),alt:""})))))))})),S=n.a.createElement;function E(){return S("div",null,S(b,null,S(P,null)))}}},[["XXki",0,2,5,1,3,4,6,8]]]);
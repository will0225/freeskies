_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{B3wi:function(e,t,a){"use strict";var n=a("rePB"),r=a("q1tI"),o=a.n(r),s=a("Tyw5"),c=a.n(s),l=a("nOHt"),i=a("TSYQ"),u=a.n(i),d=a("LvDl"),m=a.n(d),p=a("/MKj"),h=a("ffwR"),v=o.a.createElement;function f(e){var t=e.user,a=void 0===t?{}:t,n=Object(l.useRouter)();return v("div",{className:c.a.profile,onClick:function(){n.push("/profile")}},v("div",{className:c.a.avatar},(null===a||void 0===a?void 0:a.profilePhoto)?v(h.a,{size:40,url:null===a||void 0===a?void 0:a.profilePhoto.src,text:null===a||void 0===a?void 0:a.username}):v(h.a,{size:40,text:null===a||void 0===a?void 0:a.firstName})),v("span",{className:c.a.name},"".concat(null===a||void 0===a?void 0:a.firstName)))}t.a=Object(p.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.withoutSearch,a=e.user,s=Object(r.useState)(0),l=s[0],i=s[1],d=Object(r.useState)(!0),p=d[0],h=d[1],b=function(){try{var e=window.pageYOffset,t=l>e;i(e),h(t)}catch(a){console.log(a)}};return Object(r.useEffect)((function(){try{window.addEventListener("scroll",m.a.throttle(b,250))}catch(e){console.log(e)}return function(){try{window.removeEventListener("scroll",b)}catch(e){console.log(e)}}}),[l]),v(o.a.Fragment,null,v("div",{className:u()(c.a.header,Object(n.a)({},c.a.header_hidden,!p))},v("div",{className:c.a.container},v("div",{className:c.a.logo},v("img",{src:"/logo.png",alt:"logo"})),v("div",{className:c.a.search},!t&&v(o.a.Fragment,null,v("input",{name:"search",placeholder:"Search ..."}),v(f,null))),v(f,{user:a}))),v("div",{className:c.a.additional_header}))}))},Tyw5:function(e,t,a){e.exports={additional_header:"header_additional_header__Wyu42",header:"header_header__ecC39",header_hidden:"header_header_hidden__2Q2DD",container:"header_container__bXWQQ",logo:"header_logo__2MPw_",search:"header_search__sw4Be",profile:"header_profile__1JSwu",name:"header_name__3HhTm",avatar:"header_avatar__boSZH"}},"W+IF":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return J}));var n=a("q1tI"),r=a.n(n),o=(a("KQm4"),a("o0o1")),s=a.n(o),c=a("HaE+"),l=a("G9ce"),i=a.n(l),u=a("TSYQ"),d=a.n(u),m=a("5rEg"),p=a("tsqr"),h=a("GzdX"),v=a("2/Rp"),f=a("uoqP"),b=a("o3/p"),g=a("Bfm4"),x=a("A9a1"),w=a("+eX/"),N=a("jL+W"),y=a("ZvkC"),k=a("67A/"),_=a("ffwR"),O=(a("4nr2"),a("rePB")),j=a("Ff2n"),S=a("9rZX"),C=a.n(S),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},P=a("6VBw"),T=function(e,t){return n.createElement(P.a,Object.assign({},e,{ref:t,icon:E}))};T.displayName="CloseCircleFilled";var R=n.forwardRef(T),z=a("a/fa"),I=a.n(z),B=r.a.createElement;C.a.setAppElement("#modal_place");var D={content:{},overlay:{backgroundColor:"rgba(50, 50, 50, .8)"}};function M(e){var t=e.children,a=e.showModal,n=e.narrow_container,r=e.title,o=Object(j.a)(e,["children","showModal","narrow_container","title"]);return B(C.a,{isOpen:a,style:D,className:d()(I.a.modal_content,Object(O.a)({},I.a.narrow,n)),shouldCloseOnOverlayClick:!0,onRequestClose:o.onClose},B("div",{className:I.a.header},B("div",{className:I.a.title},B("p",null,r)),B("button",{className:I.a.close,type:"button",onClick:o.onClose},B(R,null))),B("div",{className:I.a.content},t))}a("VIWY");var L=a("Lp5N"),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"}}]},name:"audio",theme:"outlined"},V=function(e,t){return n.createElement(P.a,Object.assign({},e,{ref:t,icon:A}))};V.displayName="AudioOutlined";var W=n.forwardRef(V),H=a("wd/R"),Y=a.n(H),F=a("B3wi"),G=r.a.createElement,Q=m.a.Search,U=(G(W,{style:{fontSize:16,color:"#1890ff"}}),function(e){return console.log(e)});var X=Object(N.a)((function(e){var t,a,o=e.auth,l=Object(n.useState)([]),u=(l[0],l[1],Object(n.useContext)(y.a)),m=u[0],N=u[1],O=Object(n.useState)(1),j=O[0],S=O[1],C=Object(n.useState)(!1),E=C[0],P=C[1],T=Object(n.useState)(!1),R=T[0],z=T[1],I=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n,r,c,l=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]&&l[1],e.prev=1,a||N(Object(k.c)(!0)),e.next=5,Object(f.a)({method:"post",url:"/accounts/timeline",headers:{"x-token":o.token}});case 5:n=e.sent,r=n.data,200===(c=n.status)?N(Object(k.b)(r)):403===c?authServices.refreshToken(I):p.b.error((null===r||void 0===r?void 0:r.message)||"Something wrong"),a||N(Object(k.c)(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),a||N(Object(k.c)(!1));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n,r,c,l=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]&&l[1],e.prev=1,a||N(Object(k.c)(!0)),e.next=5,Object(f.a)({method:"get",url:"/accounts",headers:{"x-token":o.token}});case 5:n=e.sent,r=n.data,200===(c=n.status)?N(Object(k.a)(r)):403===c?authServices.refreshToken(I):p.b.error((null===r||void 0===r?void 0:r.message)||"Something wrong"),a||N(Object(k.c)(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),a||N(Object(k.c)(!1));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.a)({method:"post",url:"/accounts/trending",data:{offset:0,first:3},headers:{"x-token":o.token}});case 3:t=e.sent,a=t.data,t.status,N(Object(k.d)(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(Object(k.c)(!0,"posting")),e.next=4,Object(f.a)({method:"post",url:"/posts",data:t,headers:{"x-token":o.token}});case 4:return a=e.sent,n=a.data,201===a.status?B():p.b.error((null===n||void 0===n?void 0:n.message)||"Something wrong"),N(Object(k.c)(!1,"posting")),e.next=10,a;case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(0),N(Object(k.c)(!1,"posting"));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(s.a.mark((function e(t,a,n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(Object(k.c)(!0,"posting")),r="","Photo"===t?r="/photos/rate":"VideoClip"===t?r="/video-clips/rate":"Item"===t?r="/items/rate":"Post"===t?r="/posts/rate":"Comment"===t?r="/comments/rate":"Share"===t&&(r="/shares/rate"),e.next=6,Object(f.a)({method:"post",url:r,data:{rated:a,rating:n},headers:{"x-token":o.token}});case 6:return c=e.sent,c.data,201===c.status&&B(),N(Object(k.c)(!1,"posting")),e.next=12,c;case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(0),N(Object(k.c)(!1,"posting"));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a,n){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){B(o.token),D()}),[]);var W=m.accountData,H=m.trendingData,X=(m.friendData,window.matchMedia("only screen and (max-width: 640px)").matches),q=(null!==W&&void 0!==W&&"url(https://www.freeskies.com/static/".concat(null===(t=W.profileBackgroundImage)||void 0===t?void 0:t.src,")"),null!==W&&void 0!==W?"".concat(null===(a=W.profilePhoto)||void 0===a?void 0:a.src):null),J=Math.round((null===W||void 0===W?void 0:W.rating)||0),K=function(){P(!0)},Z=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(Object(k.c)(!0)),e.next=4,Object(f.a)({method:"PUT",url:"/accounts",data:t,headers:{"x-token":o.token}});case 4:return a=e.sent,n=a.data,201===a.status?B():p.b.error((null===n||void 0===n?void 0:n.message)||"Something wrong"),N(Object(k.c)(!1)),e.next=10,a;case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(0),N(Object(k.c)(!1));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=17;break}return e.prev=1,N(Object(k.c)(!0)),e.next=5,Object(f.a)({method:"DELETE",url:"/accounts/friendship",data:{username:t},headers:{"x-token":o.token}});case 5:return a=e.sent,n=a.data,201===a.status?B():p.b.error((null===n||void 0===n?void 0:n.message)||"Something wrong"),N(Object(k.c)(!1)),e.next=11,a;case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t0=e.catch(1),N(Object(k.c)(!1));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="","Photo"===t?n="/photos/react":"VideoClip"===t?n="/video-clips/react":"Item"===t?n="/items/react":"Post"===t?n="/posts/react":"Comment"===t?n="/comments/react":"Share"===t&&(n="/posts/react"),e.prev=2,e.next=5,Object(f.a)({method:"post",url:n,data:{reacted:a,reaction:"LIKE"},headers:{"x-token":o.token}});case 5:if(r=e.sent,c=r.data,201!==r.status){e.next=11;break}p.b.success("Evaluate successfully"),e.next=13;break;case 11:throw p.b.error((null===c||void 0===c?void 0:c.message)||"Something wrong"),new Error;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="","Photo"===t?n="/photos/share":"VideoClip"===t?n="/video-clips/share":"Item"===t?n="/items/share":"Post"===t?n="/posts/share":"Comment"===t?n="/comments/share":"Share"===t&&(n="/posts/share"),e.prev=2,e.next=5,Object(f.a)({method:"post",url:n,data:{shared:a},headers:{"x-token":o.token}});case 5:if(r=e.sent,c=r.data,201!==r.status){e.next=11;break}p.b.success("Evaluate successfully"),e.next=13;break;case 11:throw p.b.error((null===c||void 0===c?void 0:c.message)||"Something wrong"),new Error;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,a){return e.apply(this,arguments)}}();return G(r.a.Fragment,null,G(F.a,null),G("div",{className:i.a.container},G("div",{className:i.a.left},"undefined"!==typeof W?G("div",{className:i.a.profile},G("div",{className:i.a.avatar},G("div",{className:i.a.avatar_image},G(_.a,{size:X?100:140,url:q,text:null===W||void 0===W?void 0:W.username}))),G("div",{className:i.a.user_content},G("div",{className:i.a.user_info},G("div",{className:i.a.heade_section},G("div",{className:i.a.left_side},G("p",{className:i.a.fullname,style:{cursor:"pointer"},onClick:function(){return z(!0)}},G("span",null,"".concat(null===W||void 0===W?void 0:W.firstName," ").concat(null===W||void 0===W?void 0:W.lastName)))),G("div",{className:i.a.right_side},G("p",{className:i.a.rating},G(h.a,{defaultValue:J,style:{color:"#fadb14",fontSize:"30px"}}),G("span",{className:i.a.rating_text},J))))))):G("div",{className:"border border-gray-300 shadow rounded-md p-4 max-w-sm w-full mx-auto"},G("div",{className:"animate-pulse flex space-x-4"},G("div",{className:"rounded-full bg-gray-400 h-12 w-12"}),G("div",{className:"flex-1 space-y-4 py-1"},G("div",{className:"h-4 bg-gray-400 rounded w-3/4"}),G("div",{className:"space-y-2"},G("div",{className:"h-4 bg-gray-400 rounded"}),G("div",{className:"h-4 bg-gray-400 rounded w-5/6"}))))),G("div",{className:i.a.profile_content},G("ul",{className:d()("flex border-b",i.a.profileTabs)},G("li",{className:d()("mr-1",i.a.tab),onClick:function(){return S(1)},style:{borderBottom:1==j?"5px solid white":"none"}},G("a",{className:"inline-block py-2 px-4 text-red-500 hover:text-red-800 font-semibold"},"ACTIVITY")),G("li",{className:d()("mr-1",i.a.tab),onClick:function(){return S(2)},style:{borderBottom:2==j?"5px solid white":"none"}},G("a",{className:"inline-block py-2 px-4 text-red-500 hover:text-red-800 font-semibold"},"Groups")),G("li",{className:d()("mr-1",i.a.tab),onClick:function(){return S(6)},style:{borderBottom:6==j?"5px solid white":"none"}},G("a",{className:"inline-block py-2 px-4 text-red-500 hover:text-red-800 font-semibold"},"Marketplace")),G("li",{className:d()("mr-1",i.a.tab),onClick:function(){return S(3)},style:{borderBottom:3==j?"5px solid white":"none"}},G("a",{className:"inline-block py-2 px-4 text-red-500 hover:text-red-800 font-semibold"},"PHOTOS")),G("li",{className:d()("mr-1",i.a.tab),onClick:function(){return S(4)},style:{borderBottom:4==j?"5px solid white":"none"}},G("a",{className:"inline-block py-2 px-4 text-red-500 hover:text-red-800 font-semibold"},"RATES")),G("li",{className:d()("mr-1",i.a.tab),onClick:function(){return S(5)},style:{borderBottom:5==j?"5px solid white":"none"}},G("a",{className:"inline-block py-2 px-4 text-red-500 hover:text-red-800 font-semibold"},"FRIENDS"))),G("div",{className:i.a.mobile_search},G(Q,{placeholder:"input search text",onSearch:U,style:{width:"100%"}})),1==j?G("div",{className:i.a.activity},G("h2",{className:i.a.mobile_activity_label},"ACTIVITY"),G("div",{className:i.a.createPostDiv},G(_.a,{size:50,url:q}),G("input",{className:i.a.createPostInput,placeholder:"What's on your mind?",onClick:K})),G(g.a,{user:W,onRatePost:V,onUpdateTimeline:B,likeAction:ee,shareAction:te})):null,5==j?G("div",{className:d()(i.a.friends_list,i.a.sections_content)},null===W||void 0===W?void 0:W.friends.map((function(e,t){return G("div",{className:i.a.friend,key:t},G(_.a,{size:80,url:null===e||void 0===e?void 0:e.profilePhoto,text:null===e||void 0===e?void 0:e.username,style:{marginRight:0}}),G("div",{className:i.a.friend_name},G("p",{style:{textAlign:"left",fontSize:20}},e.firstName," ",e.lastName),G(h.a,{defaultValue:e.rating,style:{color:"#fadb14",fontSize:"15px"}}),G(v.a,{type:"primary",shape:"round",size:"small",style:{marginLeft:5},onClick:function(){return $(e.username)}},"Unfriend")))}))):null,3==j?G(b.a,{user:W,onRatePost:V}):null,4==j?G(w.a,{user:W,onRatePost:V}):null,G("div",{className:d()(i.a.mobile_friends_list)},G("h2",{style:{fontWeight:"bold"}},"FRIENDS"),null===W||void 0===W?void 0:W.friends.map((function(e,t){return G("div",{className:i.a.friend,key:t},G(_.a,{size:80,url:null===e||void 0===e?void 0:e.profilePhoto,text:null===e||void 0===e?void 0:e.username,style:{marginRight:0}}),G("div",{className:i.a.friend_name},G("p",{style:{textAlign:"left",fontSize:20}},e.firstName," ",e.lastName),G(h.a,{defaultValue:e.rating,style:{color:"#fadb14",fontSize:"15px"}}),G(v.a,{type:"primary",shape:"round",size:"small",style:{marginLeft:5},onClick:function(){return $(e.username)}},"Unfriend")))}))),G("hr",null),G("div",{className:i.a.mobile_groups},G("h2",{style:{fontWeight:"bold"}},"GROUPS")),G("div",{className:i.a.mobile_markets},G("h2",{style:{fontWeight:"bold"}},"Marketplace")),G("div",{className:i.a.mobile_photosection},G("h2",{style:{fontWeight:"bold"}},"PHOTOS"),G(b.a,{user:W,onRatePost:V})),G("div",{className:i.a.mobile_ratesection},G("h2",{style:{fontWeight:"bold"}},"RATES"),G(w.a,{user:W,onRatePost:V})))),G("div",{className:i.a.right},G("div",{className:i.a.search},G("p",null,"Search:"),G(Q,{placeholder:"input search text",onSearch:U,style:{width:200}})),G("div",{className:i.a.trending},G("h1",{className:i.a.trendingText},"TRENDING"),H&&H.map((function(e,t){return G("div",{key:t,className:i.a.trendingContent},G("p",null,"Type: ",e.type),G("p",null,"Date: ",Y()(e.createdAt).format("MMM DD, YYYY - HH:mm A")),G("p",null,"Content: ",e.text),G("p",null,"Comments: ",e.commentsCount),G("p",null,"Reactions: ",e.reactionsCount),G("p",null,"Rating: ",e.rating),G("p",null,"Share: ",e.sharesCount),G("br",null))})))),G(M,{title:"Create Post",showModal:E,onClose:function(){return P(0)}},G(x.a,{loading:m.postingLoading,onPosting:A,modalPopup:K})),G(M,{title:"Edit Profile",showModal:R,onClose:function(){return z(0)}},G(L.a,{onUpdate:Z,loading:m.postingLoading}))))})),q=r.a.createElement;function J(){return q("div",null,q(y.b,null,q(X,null)))}},u1GD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return a("W+IF")}])}},[["u1GD",0,2,5,10,1,3,4,6,8,7,9,11,12]]]);
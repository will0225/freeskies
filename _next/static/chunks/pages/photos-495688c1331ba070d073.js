_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"0CpR":function(t,e,n){t.exports={container:"photos_container__2ZDCf",container_bg:"photos_container_bg__2vUHm",container_radius:"photos_container_radius__1sSEA",page_title:"photos_page_title__w5Nuo",content:"photos_content__3JBP5",photo_container:"photos_photo_container__1DLuo",photo:"photos_photo__14wlp"}},"8Bbg":function(t,e,n){t.exports=n("B5Ud")},B3wi:function(t,e,n){"use strict";var a=n("rePB"),r=n("q1tI"),o=n.n(r),c=n("Tyw5"),i=n.n(c),u=n("nOHt"),s=n("TSYQ"),l=n.n(s),h=n("LvDl"),p=n.n(h),d=n("/MKj"),f=n("ffwR"),_=o.a.createElement;function v(t){var e=t.user,n=void 0===e?{}:e,a=Object(u.useRouter)();return _("div",{className:i.a.profile,onClick:function(){a.push("/profile")}},_("div",{className:i.a.avatar},(null===n||void 0===n?void 0:n.profilePhoto)?_(f.a,{size:40,url:null===n||void 0===n?void 0:n.profilePhoto.src,text:null===n||void 0===n?void 0:n.username}):_(f.a,{size:40,text:null===n||void 0===n?void 0:n.firstName})),_("span",{className:i.a.name},"".concat(null===n||void 0===n?void 0:n.firstName)))}e.a=Object(d.b)((function(t){return{user:t.auth.user}}))((function(t){var e=t.withoutSearch,n=t.user,c=Object(r.useState)(0),u=c[0],s=c[1],h=Object(r.useState)(!0),d=h[0],f=h[1],g=function(){try{var t=window.pageYOffset,e=u>t;s(t),f(e)}catch(n){console.log(n)}};return Object(r.useEffect)((function(){try{window.addEventListener("scroll",p.a.throttle(g,250))}catch(t){console.log(t)}return function(){try{window.removeEventListener("scroll",g)}catch(t){console.log(t)}}}),[u]),_(o.a.Fragment,null,_("div",{className:l()(i.a.header,Object(a.a)({},i.a.header_hidden,!d))},_("div",{className:i.a.container},_("div",{className:i.a.logo},_("img",{src:"/logo.png",alt:"logo"})),_("div",{className:i.a.search},!e&&_(o.a.Fragment,null,_("input",{name:"search",placeholder:"Search ..."}),_(v,null))),_(v,{user:n}))),_("div",{className:i.a.additional_header}))}))},B5Ud:function(t,e,n){"use strict";var a=n("o0o1"),r=n("lwsE"),o=n("W8MJ"),c=n("7W2i"),i=n("a1gu"),u=n("Nsbk"),s=n("yXPU");function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return i(this,n)}}var h=n("TqRt");e.__esModule=!0,e.Container=function(t){0;return t.children},e.createUrl=g,e.default=void 0;var p=h(n("q1tI")),d=n("g/15");function f(t){return _.apply(this,arguments)}function _(){return(_=s(a.mark((function t(e){var n,r,o;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.Component,r=e.ctx,t.next=3,(0,d.loadGetInitialProps)(n,r);case 3:return o=t.sent,t.abrupt("return",{pageProps:o});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.AppInitialProps=d.AppInitialProps,e.NextWebVitalsMetric=d.NextWebVitalsMetric;var v=function(t){c(n,t);var e=l(n);function n(){return r(this,n),e.apply(this,arguments)}return o(n,[{key:"componentDidCatch",value:function(t,e){throw t}},{key:"render",value:function(){var t=this.props,e=t.router,n=t.Component,a=t.pageProps,r=t.__N_SSG,o=t.__N_SSP;return p.default.createElement(n,Object.assign({},a,r||o?{}:{url:g(e)}))}}]),n}(p.default.Component);function g(t){var e=t.pathname,n=t.asPath,a=t.query;return{get query(){return a},get pathname(){return e},get asPath(){return n},back:function(){t.back()},push:function(e,n){return t.push(e,n)},pushTo:function(e,n){var a=n?e:"",r=n||e;return t.push(a,r)},replace:function(e,n){return t.replace(e,n)},replaceTo:function(e,n){var a=n?e:"",r=n||e;return t.replace(a,r)}}}e.default=v,v.origGetInitialProps=f,v.getInitialProps=f},Tyw5:function(t,e,n){t.exports={additional_header:"header_additional_header__Wyu42",header:"header_header__ecC39",header_hidden:"header_header_hidden__2Q2DD",container:"header_container__bXWQQ",logo:"header_logo__2MPw_",search:"header_search__sw4Be",profile:"header_profile__1JSwu",name:"header_name__3HhTm",avatar:"header_avatar__boSZH"}},XXki:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photos",function(){return n("gQxN")}])},gQxN:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return g}));var a=n("q1tI"),r=n.n(a),o=n("ODXe"),c=n("TSYQ"),i=n.n(c),u=n("T/mL"),s=n("B3wi"),l=n("pVHP"),h=n("0CpR"),p=n.n(h),d=n("jL+W"),f=r.a.createElement;var _=Object(d.a)((function(t){var e=t.auth.user,n=Object(u.b)((function(t){var n=t.in;return f(l.a,{title:"Photo detail",showModal:n,onClose:c,data:null===e||void 0===e?void 0:e.recentPhotos})})),a=Object(o.a)(n,2),r=a[0],c=a[1];return f("div",null,f(s.a,{withoutSearch:!0}),f("div",{className:i()(p.a.container,p.a.container_bg,p.a.container_radius)},f("div",{className:p.a.page_title},"Photos"),f("div",{className:p.a.content},null===e||void 0===e?void 0:e.recentPhotos.map((function(t){return f("div",{className:p.a.photo_container,key:t.id,onClick:r},f("div",{className:p.a.photo},f("img",{src:"https://www.freeskies.com/static/".concat(t.src),alt:""})))})))))})),v=r.a.createElement;function g(){return v("div",null,v(_,null))}},"jL+W":function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("wx14"),r=n("Ff2n"),o=n("1OyB"),c=n("vuIU"),i=n("JX7q"),u=n("Ji7U"),s=n("md7G"),l=n("foSv"),h=n("rePB"),p=n("q1tI"),d=n.n(p),f=n("8Bbg"),_=n.n(f),v=n("/MKj"),g=n("nOHt"),m=n.n(g),b=d.a.createElement;function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}function O(t){var e=function(e){Object(u.a)(s,e);var n=w(s);function s(){var t;Object(o.a)(this,s);for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a)),Object(h.a)(Object(i.a)(t),"UNSAFE_componentWillMount",(function(){t.checkAuth(t.props),t.getUserData(),console.log("Test")})),Object(h.a)(Object(i.a)(t),"UNSAFE_componentWillReceiveProps",(function(e){t.checkAuth(e)})),Object(h.a)(Object(i.a)(t),"checkAuth",(function(t){var e=t.authenticated;t.authenticating||e||(console.log("redirect"),m.a.replace("/login?r=".concat(redir.pathname+encodeURIComponent(redir.search)),"/login",{shallow:!0}))})),Object(h.a)(Object(i.a)(t),"getUserData",(function(){(0,t.props.dispatch)({type:"@@auth/GET_USER"})})),Object(h.a)(Object(i.a)(t),"refreshToken",(function(){(0,t.props.dispatch)({type:"@@auth/REFRESH_TOKEN"})})),t}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props,n=e.authenticating,o=(e.authenticated,e.auth),c=Object(r.a)(e,["authenticating","authenticated","auth"]);return console.log("props@@,",this.props),n?b("div",{className:"loading-container"},b("span",null,"Loading...")):b(t,Object(a.a)({},c,{auth:o}))}}]),s}(_.a);return Object(v.b)((function(t){return{authenticating:t.auth.authenticating,auth:t.auth,authenticated:t.auth.authenticated}}))(e)}}},[["XXki",0,2,5,1,3,6,8]]]);
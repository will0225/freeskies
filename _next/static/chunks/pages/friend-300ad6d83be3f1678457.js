_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"1W+L":function(e,t,n){e.exports={friends_list:"friends_friends_list__3o_JQ",friend:"friends_friend__7Omqr",avatar:"friends_avatar__jtbhB",friend_name:"friends_friend_name__nRueN",sections_content:"friends_sections_content__3dw5c"}},B310:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/friend",function(){return n("folX")}])},folX:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n("q1tI"),a=n.n(r),i=n("TSYQ"),s=n.n(i),o=(n("T/mL"),n("B3wi")),c=n("jL+W"),d=n("uoqP"),f=n("tsqr"),l=n("GzdX"),u=n("2/Rp"),_=n("rePB"),p=a.a.createElement;function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y={loading:!1,friendsData:[]};function O(e,{type:t,payload:n}){switch(t){case"friends/SET_LOADING":return b(b({},e),{},{loading:n});case"friends/SET_FRIENDS_DATA":return b(b({},e),{},{friendsData:n});default:return e}}const h=Object(r.createContext)([{},()=>{}]),v=({children:e})=>{const t=Object(r.useReducer)(O,y);return p(h.Provider,{value:t},e)};function w(e){switch(e){case"friends":return"friends/SET_LOADING";default:return""}}var g=(e,t="friends")=>({type:w(t),payload:e});var j=e=>({type:"friends/SET_FRIENDS_DATA",payload:e}),E=n("1W+L"),N=n.n(E),D=n("ffwR"),P=a.a.createElement;var S=Object(c.a)((function({auth:e,authServices:t}){const{0:n,1:a}=Object(r.useContext)(h);Object(r.useEffect)(()=>{i()},[]);const i=async()=>{try{const n=await Object(d.a)({method:"post",data:{offset:0,first:10},url:"/accounts/friendship/get-friends",headers:{"x-token":e.token}}),{data:r,status:i}=n;console.log(r),200===i?a(j(r)):403===i?t.refreshToken():f.b.error((null===r||void 0===r?void 0:r.message)||"Something wrong")}catch(n){console.log(n)}};return P("div",null,P(o.a,null),P("div",{className:s()(N.a.friends_list,N.a.sections_content)},n.friendsData.length>0?n.friendsData.map((t,n)=>P("div",{className:N.a.friend,key:n},P(D.a,{size:80,url:null===t||void 0===t?void 0:t.profilePhoto,text:null===t||void 0===t?void 0:t.username,style:{marginRight:0}}),P("div",{className:N.a.friend_name},P("p",{style:{textAlign:"left",fontSize:20}},t.firstName," ",t.lastName),P(l.a,{defaultValue:t.rating,style:{color:"#fadb14",fontSize:"15px"}}),P(u.a,{type:"primary",shape:"round",size:"small",style:{marginLeft:5},onClick:()=>(async t=>{if(""!==t)try{a(g(!0));const n=await Object(d.a)({method:"DELETE",url:"/accounts/friendship",data:{username:t},headers:{"x-token":e.token}}),{data:r,status:s}=n;return 200===s?i():f.b.error((null===r||void 0===r?void 0:r.message)||"Something wrong"),a(g(!1)),await n}catch(n){a(g(!1))}})(t.username)},"Unfriend")))):P("div",null,"No Friends")))})),T=a.a.createElement;function k(){return T("div",null,T(v,null,T(S,null)))}}},[["B310",0,2,5,1,3,4,6,7,8]]]);